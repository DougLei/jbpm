<?xml version="1.0" encoding="UTF-8"?>
<bpm-configuration>
	<!-- 
		流程配置结构, 核心主要包括以下四种组件:
		1. 事件
		2. 连线
		3. 网关
		4. 任务 
	-->
	<process id="编码:版本" name="流程名称" pageID="属于全局的页面标识"  titleExpression="标题表达式, 根据表达式生成实例的标题, 如果不配置, 则默认标题使用name">
		<!-- 开始事件, 一个流程中只能有一个开始 -->
		<startEvent id="startEvent" name=""></startEvent>
		<!-- 结束事件, 一个流程中可以有多个结束 -->
		<endEvent id="endEvent1" name=""></endEvent>
		
		
		<!-- 
			任务包含两种:
			1. 手动任务, 需要用户手动处理, 来推动流程流转, 例如用户任务
			2. 自动任务, 可以自行推动流程流转, 例如子流程任务, SQL脚本任务, 定时任务, 邮件任务等 
		-->
		<!-- 用户任务 -->
		<userTask id="userTask2" name="任务名称"  pageID="属于任务的页面标识, 优先级高于全局页面标识"  
			timeLimitExpression="办理时限的表达式(表达式中要能表达出是工作日还是自然日), 设置当前用户任务需要在多长时间内办理, 不配置则没有时限约束"
			allowActivation="当流程结束后再激活时, 是否允许选择从当前用户任务进行激活">
			
			<!-- 当前任务候选人相关配置 -->
			<candidate>
				<!-- 候选人指派策略 -->
				<assignStrategy mode="指派候选人模式(只能选择一个候选人, 可以选择多个候选人)" expression="指派候选人的表达式, 多个表达式用;(分号)分隔开" 
					auto="是否自动指派候选人" autoValue="自动选人时, 选择多少个人, 配置的值如果为-1, 或数量大于可选的人数, 则全部选择, 否则选择指定的数量候选人"></assignStrategy>
				<!-- 候选人审批策略 -->
				<approvalStrategy mode="具体审批的模式(单人操作, 多人按百分比操作, 多人按人数操作)" modeValue="审批模式对应的配置值(百分比, 人数)" 
					mandatoryDeclaration="是否需要强制表态"></approvalStrategy>
			</candidate>
			
			<!-- 在当前任务时, 可以执行的操作 -->
			<option type="saveForm" name="保存表单"></option>
			<option type="toInitiator" name="退回发起人"></option>
			<option type="toPreLink" name="退回上一环节"></option>
			<option type="sendCopy" name="抄送">
				<candidate></candidate>
			</option>
			<option type="transfer" name="转办">
				<candidate></candidate>
			</option>
			<option type="assist" name="协办">
				<candidate></candidate>
			</option>
			<option type="extension" name="延长办理" times="可以延长办理几次, 默认值为1" maxDays="一次最多几天, 默认值为1" dayType="延长天数是工作日还是自然日, 默认值为工作日" >
				<candidate></candidate>
			</option>
			<option type="tracking" name="流程跟踪"></option>
			<option type="terminate" name="流程结束"></option>
			
			<!-- 前/后置监听器 -->
			<listener type="pre" item="多个项之间用;(分号)分隔开"></listener>
			<listener type="post" item="多个项之间用;(分号)分隔开"></listener>
		</userTask>
		
		<!-- 子流程任务 -->
		<processTask id="processTask1"></processTask>
		<!-- SQL脚本任务 -->
		<sqlTask id="sqlTask1"></sqlTask>
		<!-- 定时任务 -->
		<timerTask id="timerTask1" cronExpression=""></timerTask>
		<!-- 邮件任务 -->
		<emailTask id="emailTask1"></emailTask>
		
		
		<!-- 并行网关 -->
		<parallelGateway id="parallelGateway1" name=""></parallelGateway>
		<!-- 排他网关 -->
		<exclusiveGateway id="exclusiveGateway1" name=""></exclusiveGateway>
		<!-- 包容网关 -->
		<inclusiveGateway id="inclusiveGateway1" name=""></inclusiveGateway>
		
		
		<!-- 连线, 可配置条件 -->
		<flow id="flow1" name="启动流程" source="startEvent1" target="userTask1" conditionExpression="配置比较表达式" order="排序, 如果同一个source引出多条线, 可以通过order进行排序"></flow>
	</process>
	
	<!-- 配置流程图的结构, 目前不设计 -->
	<process-img>
	</process-img>
</bpm-configuration>