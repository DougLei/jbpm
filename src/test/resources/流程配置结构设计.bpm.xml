<?xml version="1.0" encoding="UTF-8"?>
<bpm-configuration>
	<!-- 
		流程配置结构, 核心主要包括以下两种组件:
		1. 连线
		2. 任务, 包含两种类型:
			2.1. 手动任务, 需要用户手动处理, 来推动流程流转, 例如用户任务
			2.2. 自动任务, 可以自行推动流程流转, 例如开始任务, 结束任务, 并行任务, 排他任务, 包容任务, 子流程任务, SQL脚本任务, 定时任务, 邮件任务等 
	-->
	<process id="编码" version="用户自定义的版本" name="流程名称" titleExpression="标题表达式, 根据表达式生成实例的标题, 如果不配置, 则默认标题使用name">
		<!-- 开始任务, 一个流程中只能有一个开始 -->
		<startTask id="startTask" name=""></startTask>
		<!-- 结束任务, 一个流程中可以有多个结束 -->
		<endTask id="endTask1" name=""></endTask>
		
		
		<!-- 用户任务 -->
		<userTask id="userTask2" name="任务名称" pageID="属于任务的页面标识, 优先级高于全局页面标识"  
			timeLimitExpression="办理时限的表达式(表达式中要能表达出是工作日还是自然日), 设置当前用户任务需要在多长时间内办理, 不配置则没有时限约束" autoProcessingWhenOverdue="逾期后是否自动办理, 默认值为false"
			allowActivation="当流程结束后再激活时, 是否允许选择从当前用户任务进行激活">
			
			<!-- 当前任务候选人相关配置 -->
			<candidate>
				<!-- 候选人指派策略 -->
				<assignPolicy mode="指派候选人模式(只能选择一个候选人, 可以选择多个候选人)" expression="指派候选人的表达式, 多个表达式用;(分号)分隔开" 
					auto="是否自动指派候选人" autoValue="自动选人时, 选择多少个人, 配置的值如果小于1, 或数量大于可选的人数, 则全部选择, 否则选择指定的数量候选人, 默认值为1"></assignPolicy>
				<!-- 候选人审批策略 -->
				<approvalPolicy mode="具体审批的模式(单人操作, 多人按百分比操作, 多人按人数操作)" modeValue="审批模式对应的配置值(百分比, 人数)" 
					mandatoryDeclaration="是否需要强制表态"></approvalPolicy>
			</candidate>
			
			<!-- 在当前任务时, 可以执行的操作 -->
			<option type="saveForm" name="保存表单"></option>
			<option type="toInitiator" name="退回发起人"></option>
			<option type="toPreLink" name="退回上一环节"></option>
			<option type="sendCopy" name="抄送">
				<candidate></candidate>
			</option>
			<option type="transfer" name="转办">
				<candidate></candidate>
			</option>
			<option type="assist" name="协办">
				<candidate></candidate>
			</option>
			<option type="extension" name="延长办理" times="可以延长办理几次, 默认值为1" maxDays="一次最多几天, 默认值为1" dayType="延长天数是工作日还是自然日, 默认值为工作日" >
				<candidate></candidate>
			</option>
			<option type="tracking" name="流程跟踪"></option>
			<option type="terminate" name="流程结束"></option>
			<option type="urging" name="催办" auto="是否进行自动催办(一次), 默认为false"></option><!-- 在逾期后才会出现催办按钮 -->
			<!-- 当用户提交后, 如果发现提交的有问题, 还可以自主选择撤回, 重新编辑后再提交 -->
			<!-- times设置可以撤回的次数, 默认值为0, 配置的值在小于1时, 都表示不限制次数 -->
			<option type="withdraw" name="撤回" times="0"></option>
			
			<!-- 前/后置监听器 -->
			<listener type="pre" item="多个项之间用;(分号)分隔开"></listener>
			<listener type="post" item="多个项之间用;(分号)分隔开"></listener>
		</userTask>
		
		<!-- 子流程任务 -->
		<processTask id="processTask1">
			<process></process>
		</processTask>
		<!-- SQL脚本任务 -->
		<sqlTask id="sqlTask1"></sqlTask>
		<!-- 定时任务 -->
		<timerTask id="timerTask1" cronExpression=""></timerTask>
		<!-- 邮件任务 -->
		<emailTask id="emailTask1"></emailTask>
		
		
		<!-- 并行任务 -->
		<parallelTask id="parallelTask1" name=""></parallelTask>
		<!-- 排他任务 -->
		<exclusiveTask id="exclusiveTask1" name=""></exclusiveTask>
		<!-- 包容任务 -->
		<inclusiveTask id="inclusiveTask1" name=""></inclusiveTask>
		
		
		<!-- 连线, 可配置条件 -->
		<flow id="flow1" name="启动流程" source="startEvent1" target="userTask1" conditionExpression="配置比较表达式" order="排序, 如果同一个source引出多条线, 可以通过order进行排序"></flow>
	</process>
	
	<!-- 配置流程图的结构, 主要就是记录画布的长宽，以及各个节点的坐标，长宽 -->
	<process-img>
	</process-img>
</bpm-configuration>